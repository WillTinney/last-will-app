<div class="include-sidebar">

  <%= render 'shared/sidebars/sidebar_guardian' %>

  <%= render 'shared/scrollmenu' %>

  <div class="dashboard-box">
    <div id="tab-content">
      <div class="0" id="profile-content">
        <%= render 'guardians/profile' %>
      </div>

      <div class="2 hidden" id="details-content">
        <%= render file: 'guardians/edit' %>
      </div>

      <div class="4 hidden" id="notes-content">
        <%= render file: 'guardians/notes' %>
      </div>

      <div class="6 hidden" id="admin-content">
        <%= render file: 'guardians/admin' %>
      </div>

      <div class="8 hidden" id="photos-content">
        <%= render file: 'guardians/photos' %>
      </div>

      <div class="10 hidden" id="videos-content">
        <%= render file: 'guardians/videos' %>
      </div>
    </div>
  </div>
</div>

<% content_for(:after_js) do %>
  <script>
    // AJAX to load tab content without a refresh
    $('#show-profile-sidebar-tab').click(function(e){
      e.preventDefault();
      $.ajax({
          type: "GET",
          url: <%= @guardian.user_id %> + "/guardians" + <%= @guardian.id %>,
          data: { },
          success: function(data){
              $('#tab-content').html(data);
          }
      });
    });
    $('#show-details-sidebar-tab').click(function(e){
      e.preventDefault();
      $.ajax({
          type: "GET",
          url: <%= @guardian.user_id %> + "/guardians" + <%= @guardian.id %> + "/edit",
          data: { },
          success: function(data){
              $('#tab-content').html(data);
          }
      });
    });
    $('#show-notes-sidebar-tab').click(function(e){
      e.preventDefault();
      $.ajax({
          type: "GET",
          url: <%= @guardian.user_id %> + "/guardians" + <%= @guardian.id %> + "/notes",
          data: { },
          success: function(data){
              $('#tab-content').html(data);
          }
      });
    });
    $('#show-admin-sidebar-tab').click(function(e){
      e.preventDefault();
      $.ajax({
          type: "GET",
          url: <%= @guardian.user_id %> + "/guardians" + <%= @guardian.id %> + "/admin",
          data: { },
          success: function(data){
              $('#tab-content').html(data);
          }
      });
    });
    $('#show-photos-sidebar-tab').click(function(e){
      e.preventDefault();
      $.ajax({
          type: "GET",
          url: <%= @guardian.user_id %> + "/guardians" + <%= @guardian.id %> + "/photos",
          data: { },
          success: function(data){
              $('#tab-content').html(data);
          }
      });
    });
    $('#show-videos-sidebar-tab').click(function(e){
      e.preventDefault();
      $.ajax({
          type: "GET",
          url: <%= @guardian.user_id %> + "/guardians" + <%= @guardian.id %>  + "/videos",
          data: { },
          success: function(data){
              $('#tab-content').html(data);
          }
      });
    });
  </script>
<% end %>
