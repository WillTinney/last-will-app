<% content_for(:navbar) do %>
  <%= render 'shared/navbar' %>
<% end %>

<%= content_for(:sidebar) do %>
  <%= render 'shared/sidebars/sidebar_core' %>
<% end %>

<div class="dashboard-box">
  <div id="tab-content">
    <div class="0" id="my-profile-content">
      <%= render file: 'users/profile' %>
    </div>

    <div class="2 hidden" id="call_to_action-content">
      <%= render file: 'users/action' %>
    </div>

    <div class="4 hidden" id="personal-details-content">
      <%= render file: 'users/edit' %>
    </div>

    <div class="6 hidden" id="guardian-content">
      <%= render 'users/profile/guardians' %>
    </div>

    <div class="8 hidden" id="approver-content">
      <%= render 'users/profile/approvers' %>
    </div>

    <div class="10 hidden" id="family-and-friends-content">
      <%= render 'users/profile/family_and_friends' %>
    </div>

    <div class="12 hidden" id="my-digital-assets-content">
      <%= render file: 'users/digital' %>
    </div>

    <div class="14 hidden" id="proof-of-residency-content">
      <%= render file: 'users/proof' %>
    </div>

    <div class="16 hidden" id="admin-references-content">
      <%= render 'users/digital_assets/admin_references' %>
    </div>

    <div class="18 hidden" id="notes-content">
      <%= render file: 'users/notes' %>
    </div>

    <div class="20 hidden" id="photo-library-content">
      <%= render file: 'users/photos' %>
    </div>

    <div class="22 hidden" id="video-library-content">
      <%# render file: 'users/video' %>
    </div>
  </div>
</div>

<% content_for(:after_js) do %>
  <script>
    // AJAX to load tab content without a refresh
    $('#profile-sidebar-tab').click(function(e){
      e.preventDefault();
      $.ajax({
          type: "GET",
          url: <%= @user.id %> + "/profile",
          data: { },
          success: function(data){
              $('#tab-content').html(data);
          }
      });
    });
    $('#call-to-action-sidebar-tab').click(function(e){
      e.preventDefault();
      console.log('hello')
      $.ajax({
          type: "GET",
          url: <%= @user.id %> + "/action",
          data: { },
          success: function(data){
              $('#tab-content').html(data);
          }
      });
    });
    $('#personal-details-sidebar-tab').click(function(e){
      e.preventDefault();
      $.ajax({
          type: "GET",
          url: <%= @user.id %> + "/edit",
          data: { },
          success: function(data){
              $('#tab-content').html(data);
          }
      });
    });
    $('#approver-sidebar-tab').click(function(e){
      e.preventDefault();
      $.ajax({
          type: "GET",
          url: <%= @user.id %> + "/approvers",
          data: { },
          success: function(data){
              $('#tab-content').html(data);
          }
      });
    });
    $('#guardian-sidebar-tab').click(function(e){
      e.preventDefault();
      $.ajax({
          type: "GET",
          url: <%= @user.id %> + "/guardians",
          data: { },
          success: function(data){
              $('#tab-content').html(data);
          }
      });
    });
    $('#recipient-sidebar-tab').click(function(e){
      e.preventDefault();
      $.ajax({
          type: "GET",
          url: <%= @user.id %> + "/recipients",
          data: { },
          success: function(data){
              $('#tab-content').html(data);
          }
      });
    });
    $('#digital-assets-sidebar-tab').click(function(e){
      e.preventDefault();
      $.ajax({
          type: "GET",
          url: <%= @user.id %> + "/digital",
          data: { },
          success: function(data){
              $('#tab-content').html(data);
          }
      });
    });
    $('#proof-of-residency-sidebar-tab').click(function(e){
      e.preventDefault();
      $.ajax({
          type: "GET",
          url: <%= @user.id %> + "/proof",
          data: { },
          success: function(data){
              $('#tab-content').html(data);
          }
      });
    });
    $('#admin-references-sidebar-tab').click(function(e){
      e.preventDefault();
      $.ajax({
          type: "GET",
          url: <%= @user.id %> + "/admin",
          data: { },
          success: function(data){
              $('#tab-content').html(data);
          }
      });
    });
    $('#notes-sidebar-tab').click(function(e){
      e.preventDefault();
      $.ajax({
          type: "GET",
          url: <%= @user.id %> + "/notes",
          data: { },
          success: function(data){
              $('#tab-content').html(data);
          }
      });
    });
    $('#photo-library-sidebar-tab').click(function(e){
      e.preventDefault();
      $.ajax({
          type: "GET",
          url: <%= @user.id %> + "/photos",
          data: { },
          success: function(data){
              $('#tab-content').html(data);
          }
      });
    });
    $('#video-library-sidebar-tab').click(function(e){
      e.preventDefault();
      $.ajax({
          type: "GET",
          url: <%= @user.id %> + "/videos",
          data: { },
          success: function(data){
              $('#tab-content').html(data);
          }
      });
    });
  </script>
<% end %>
